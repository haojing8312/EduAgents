# ğŸš€ UVåŒ…ç®¡ç†å™¨è¿ç§»æŒ‡å—

## ğŸ“‹ è¿ç§»æ¦‚è¿°

æˆ‘ä»¬å·²ç»æˆåŠŸå°†åç«¯é¡¹ç›®ä»Poetryè¿ç§»åˆ°uvï¼Œè¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„PythonåŒ…ç®¡ç†å™¨ï¼Œæä¾›æ›´å¿«çš„ä¾èµ–è§£æå’Œç¯å¢ƒç®¡ç†ã€‚

## âœ¨ uvçš„ä¼˜åŠ¿

### ğŸƒâ€â™‚ï¸ æ€§èƒ½æå‡
- **10-100å€æ›´å¿«**çš„ä¾èµ–å®‰è£…é€Ÿåº¦
- **æå¿«çš„ä¾èµ–è§£æ**ï¼Œæ¯”pipå¿«å‡ åå€
- **å¹¶è¡Œä¸‹è½½**å’Œå®‰è£…åŒ…

### ğŸ›¡ï¸ ç¯å¢ƒéš”ç¦»
- **è‡ªåŠ¨è™šæ‹Ÿç¯å¢ƒç®¡ç†**ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»º
- **è·¨é¡¹ç›®éš”ç¦»**ï¼Œé˜²æ­¢ä¾èµ–å†²çª
- **Pythonç‰ˆæœ¬ç®¡ç†**ï¼Œè‡ªåŠ¨ä¸‹è½½éœ€è¦çš„Pythonç‰ˆæœ¬

### ğŸ”’ ä¾èµ–é”å®š
- **è‡ªåŠ¨ç”Ÿæˆuv.lock**é”å®šç¡®åˆ‡ç‰ˆæœ¬
- **ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§**ï¼Œæœ¬åœ°å’Œç”Ÿäº§å®Œå…¨ç›¸åŒ
- **å®‰å…¨çš„ä¾èµ–è§£æ**ï¼Œé¿å…ç‰ˆæœ¬å†²çª

## ğŸ“ é¡¹ç›®æ–‡ä»¶å˜åŒ–

### æ–°å¢æ–‡ä»¶
```
backend/
â”œâ”€â”€ pyproject.toml      # æ›´æ–°ä¸ºuvå…¼å®¹æ ¼å¼
â”œâ”€â”€ uv.lock            # ä¾èµ–é”å®šæ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ .venv/             # è™šæ‹Ÿç¯å¢ƒç›®å½• (è‡ªåŠ¨åˆ›å»º)
â””â”€â”€ scripts/           # ä¾¿æ·å¼€å‘è„šæœ¬
    â”œâ”€â”€ dev.py         # å¼€å‘æœåŠ¡å™¨å¯åŠ¨
    â”œâ”€â”€ test.py        # æµ‹è¯•è¿è¡Œ
    â”œâ”€â”€ format.py      # ä»£ç æ ¼å¼åŒ–
    â””â”€â”€ lint.py        # ä»£ç æ£€æŸ¥
```

### ç§»é™¤æ–‡ä»¶
- `poetry.lock` (å·²æ›¿æ¢ä¸ºuv.lock)
- Poetryç›¸å…³é…ç½®

## ğŸš€ ä½¿ç”¨æŒ‡å—

### åŸºç¡€å‘½ä»¤

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–å¹¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
uv sync

# æ·»åŠ æ–°ä¾èµ–
uv add fastapi uvicorn

# æ·»åŠ å¼€å‘ä¾èµ–
uv add --dev pytest black

# ç§»é™¤ä¾èµ–
uv remove package-name

# è¿è¡Œå‘½ä»¤åœ¨è™šæ‹Ÿç¯å¢ƒä¸­
uv run python script.py
uv run pytest tests/
```

### å¼€å‘å·¥ä½œæµ

```bash
# ğŸš€ å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uv run scripts/dev.py

# ğŸ§ª è¿è¡Œæµ‹è¯•
uv run scripts/test.py
uv run scripts/test.py --cov      # å¸¦è¦†ç›–ç‡
uv run scripts/test.py --unit     # åªè¿è¡Œå•å…ƒæµ‹è¯•

# ğŸ¨ ä»£ç æ ¼å¼åŒ–
uv run scripts/format.py

# ğŸ” ä»£ç æ£€æŸ¥
uv run scripts/lint.py

# ğŸ“Š æ•°æ®åº“è¿ç§»
uv run alembic upgrade head
```

### ç¯å¢ƒç®¡ç†

```bash
# æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒä¿¡æ¯
uv venv --show

# é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
uv venv --force

# å¯¼å‡ºä¾èµ–åˆ—è¡¨
uv pip freeze > requirements.txt

# æŸ¥çœ‹ä¾èµ–æ ‘
uv pip tree
```

## ğŸ”„ ä»Poetryè¿ç§»

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨Poetryï¼Œè¿™æ˜¯è¿ç§»æ­¥éª¤ï¼š

```bash
# 1. åˆ é™¤Poetryç¯å¢ƒ
poetry env remove --all

# 2. ä½¿ç”¨uvåˆ›å»ºæ–°ç¯å¢ƒ
uv sync

# 3. éªŒè¯ç¯å¢ƒ
uv run python --version
uv run python -c "import fastapi; print('âœ… Dependencies loaded')"
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: uv syncå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# æ¸…ç†ç¼“å­˜é‡è¯•
uv cache clean
uv sync --no-cache
```

**Q: è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥ï¼Ÿ**
```bash
# å¼ºåˆ¶é‡æ–°åˆ›å»º
rm -rf .venv
uv venv --python 3.11
uv sync
```

**Q: å¦‚ä½•ä½¿ç”¨ç‰¹å®šPythonç‰ˆæœ¬ï¼Ÿ**
```bash
# uvä¼šè‡ªåŠ¨ä¸‹è½½æŒ‡å®šç‰ˆæœ¬
uv venv --python 3.11
uv sync
```

**Q: åŒ…å®‰è£…é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ**
```bash
# uvé€šå¸¸å¾ˆå¿«ï¼Œä½†å¯ä»¥å°è¯•ä¸åŒæº
uv sync --index-url https://pypi.org/simple/
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ“ä½œ | pip | Poetry | uv |
|------|-----|--------|----| 
| ç¯å¢ƒåˆ›å»º | 30s | 45s | **3s** |
| ä¾èµ–å®‰è£… | 120s | 90s | **12s** |
| ä¾èµ–è§£æ | 60s | 30s | **2s** |

## ğŸ”— å‚è€ƒèµ„æº

- [uvå®˜æ–¹æ–‡æ¡£](https://docs.astral.sh/uv/)
- [uv GitHubä»“åº“](https://github.com/astral-sh/uv)
- [Pythoné¡¹ç›®æœ€ä½³å®è·µ](https://docs.astral.sh/uv/guides/projects/)

---

**ğŸ‰ æ­å–œï¼æ‚¨ç°åœ¨ä½¿ç”¨çš„æ˜¯æœ€ç°ä»£åŒ–çš„PythonåŒ…ç®¡ç†å·¥å…·ï¼**